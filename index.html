<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Painel Administrativo - Divulga DRM</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script>
    // Proteção por senha
    document.addEventListener("DOMContentLoaded", function () {
    const senhaCorreta = "DRM250317@@!";
    const senhaDigitada = prompt("Digite a senha para acessar o painel:");

    console.log("Senha digitada:", senhaDigitada); // <--- AJUDA A VER NO CONSOLE

    if (!senhaDigitada || senhaDigitada.trim() !== senhaCorreta) {
      alert("Senha incorreta.");
      window.location.href = "https://www.google.com";
      }
    });
  </script>
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 class="mb-4">Cadastro de Cargas</h2>

    <form id="formCarga" class="row g-3">
      <div class="col-md-6">
        <label for="origem" class="form-label">Origem:</label>
        <input type="text" class="form-control" id="origem" required>
      </div>
      <div class="col-md-6">
        <label for="destino" class="form-label">Destino:</label>
        <input type="text" class="form-control" id="destino" required>
      </div>
      <div class="col-md-4">
        <label for="veiculo" class="form-label">Veículo:</label>
        <input type="text" class="form-control" id="veiculo" required>
      </div>
      <div class="col-md-4">
        <label for="tipo" class="form-label">Tipo:</label>
        <input type="text" class="form-control" id="tipo" required>
      </div>
      <div class="col-md-4">
        <label for="rastreado" class="form-label">Rastreado (Sim/Não):</label>
        <input type="text" class="form-control" id="rastreado" required>
      </div>
      <div class="col-md-4">
        <label for="valor" class="form-label">Valor:</label>
        <input type="text" class="form-control" id="valor" required>
      </div>
      <div class="col-md-4">
        <label for="whatsapp" class="form-label">WhatsApp:</label>
        <input type="text" class="form-control" id="whatsapp" required>
      </div>
      <div class="col-md-12">
        <label for="observacao" class="form-label">Observação:</label>
        <textarea class="form-control" id="observacao" rows="2"></textarea>
      </div>

      <div class="col-12">
        <button type="submit" class="btn btn-primary">Cadastrar Carga</button>
      </div>
    </form>
  </div>

  <script>
    const form = document.getElementById("formCarga");

    form.addEventListener("submit", async function (e) {
      e.preventDefault();

      const dados = {
        origem: document.getElementById("origem").value,
        destino: document.getElementById("destino").value,
        veiculo: document.getElementById("veiculo").value,
        tipo: document.getElementById("tipo").value,
        rastreado: document.getElementById("rastreado").value,
        valor: document.getElementById("valor").value,
        whatsapp: document.getElementById("whatsapp").value,
        observacao: document.getElementById("observacao").value,
      };

      try {
        const resposta = await fetch ("https://script.google.com/macros/s/AKfycbzCJ2dvIuptehOf-x1Ir9bB3BFLSu0X4Ua-LZAy1RdXUH3lImhFqtmO6OYL0ILyqTSRmw/exec", {
          method: "POST",
          mode: "no-cors",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(dados)
        });

        alert("Carga cadastrada com sucesso!");
        form.reset();
      } catch (erro) {
        alert("Erro ao enviar: " + erro.message);
      }
    });
  </script>
</body>
</html>
